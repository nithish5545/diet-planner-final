<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial,sans-serif; }
body {
    background: linear-gradient(135deg, #0d0d0d, #1a1a1a, #3b3b3b);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
    color:white;
}
.container { width:100%; max-width:600px; background: rgba(255,255,255,0.1); padding:30px; border-radius:15px; }
h2 { text-align:center; margin-bottom:20px; }
.card { background: rgba(255,255,255,0.15); padding:20px; margin:15px 0; border-radius:10px; }
.card h3 { margin-bottom:10px; }
.buttons { display:flex; justify-content:space-around; margin-top:20px; }
button { padding:15px; border:none; border-radius:10px; cursor:pointer; background:#00eaff; color:#000; font-weight:bold; transition:0.3s; }
button:hover { background:#00c4d1; }
.goal { background: rgba(255,255,255,0.2); padding:15px; margin-top:10px; border-radius:10px; }
</style>
</head>
<body>

<div class="container">
    <h2>Welcome, <span id="userName"></span>!</h2>

    <div class="card">
        <h3>Today's Goal</h3>
        <div class="goal" id="todayGoal">Loading...</div>
    </div>

    <div class="card">
        <h3>Weekly Goal</h3>
        <div class="goal" id="weeklyGoal">Loading...</div>
    </div>

    <div class="buttons">
        <button onclick="location.href='exercise.html'">Exercise Planning</button>
        <button onclick="location.href='diet.html'">Diet Planning</button>
        <button onclick="location.href='about.html'">About Us</button>
    </div>
</div>

<script>
// Fetch user data from localStorage
const userData = JSON.parse(localStorage.getItem("userData"));

if(userData){
    document.getElementById("userName").innerText = userData.name || "User";

    // ---------------------- Today's Goal ----------------------
    let todayGoal = "";
    const bmi = parseFloat(userData.bmi);
    const weight = parseFloat(userData.weight);

    // Basic water, steps, calories (example values)
    const waterIntake = 2.5; // liters
    const steps = 8000; // steps
    const caloriesBurned = 450; // kcal

    if(bmi < 18.5) todayGoal = `Focus on weight gain exercises and high-calorie diet.\nWater Intake: ${waterIntake}L\nSteps: ${steps}\nCalories Burned: ${caloriesBurned} kcal`;
    else if(bmi < 25) todayGoal = `Maintain your current fitness level.\nWater Intake: ${waterIntake}L\nSteps: ${steps}\nCalories Burned: ${caloriesBurned} kcal`;
    else if(bmi < 30) todayGoal = `Focus on fat loss exercises and balanced diet.\nWater Intake: ${waterIntake}L\nSteps: ${steps}\nCalories Burned: ${caloriesBurned} kcal`;
    else todayGoal = `Start a strict weight loss plan with cardio and diet control.\nWater Intake: ${waterIntake}L\nSteps: ${steps}\nCalories Burned: ${caloriesBurned} kcal`;

    document.getElementById("todayGoal").innerText = todayGoal;

    // ---------------------- Weekly Goal ----------------------
    let weeklyGoal = "";
    const weightTarget = parseFloat(userData.targetWeight || weight); // target weight from registration (optional)
    let weightDiff = weightTarget - weight;
    if(weightDiff > 0) weeklyGoal = `Goal: Gain ${weightDiff.toFixed(1)} kg this week. Focus on high-calorie diet and strength exercises.`;
    else if(weightDiff < 0) weeklyGoal = `Goal: Lose ${Math.abs(weightDiff).toFixed(1)} kg this week. Focus on cardio and controlled diet.`;
    else weeklyGoal = `Maintain your weight. Focus on balanced diet and workouts.`;

    document.getElementById("weeklyGoal").innerText = weeklyGoal;

}else{
    alert("No user data found! Please register first.");
    window.location.href = "registration.html";
}
</script>

</body>
</html>
